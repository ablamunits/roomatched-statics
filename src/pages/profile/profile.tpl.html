<div class="app-view profile-view" ng-cloak>
	<div class="container">
		<div>
		</br>
		<h3>Hi {{ profile.user.firstName }}, this is your profile page.</h3>
		<hr>
		<p>You can review and update your personal settings on this page.</p>
		<div class="user-container">
			<div class="user-image">
				<img ng-src="{{ profile.user.photoUrl || './assets/images/user-photo-placeholder.png' }}" />
				<div class="edit-image-icon">
					<p><b>{{ profile.user.firstName }} {{ profile.user.lastName}}</b></p>
					<p>{{ profile.user.type | typeToString }}</p>
				</div>
			</div>
			<div class="user-info">
				<p>You are registered as an apartment {{ profile.user.type | typeToString }}.</p>
				<ul class="user-info-option-list">
					<li class="user-info-option">
						<a ng-click="profile.showPreferenceSelector()">
							<span class="icon icon-arrow" ng-include="'assets/icons/arrow-down.svg'"></span>
							My Preferences
						</a>
						<div class="form-section user-preferences" ng-if="profile.openSettings.preferences && profile.preferences">
							<a class="update-link" ng-click="profile.updatePreferences()">Update</a>
							<preference-select ng-model="profile.preferences"></preference-select>
							<div class="offerer-preferences" ng-if="(profile.user.type | typeToString) === 'Offerer'">
								<h4>Roommate gender</h4>
								<rm-select ng-model="profile.details.sexPreffered" options="['any','male','female']"></rm-select>
							</div>
							<div class="seeker-preferences" ng-if="(profile.user.type | typeToString) === 'Seeker'">
								<div>
									<h4>City preference</h4>
									<!-- <input type="text" ng-model="profile.details.city" placeholder="City"/> -->
									<rm-select ng-model="profile.details.city" options="profile.cityOptions"></rm-select>
								</div>
								<div>
									<h4>Preffered price range</h4>
									<input floating-label type="number" ng-model="profile.details.fromPrice" placeholder="From price"/>
									<input floating-label type="number" ng-model="profile.details.toPrice" placeholder="To price"/>
								</div>
							</div>
						</div>
					</li>
					<li class="user-info-option">
						<a ng-click="profile.showSettings()">
							<span class="icon icon-arrow" ng-include="'assets/icons/arrow-down.svg'"></span>
							My Settings
						</a>
						<div class="form-section user-settings" ng-if="profile.openSettings.settings && profile.userSettings">
							<a class="update-link" ng-click="profile.updateSettings()">Update</a>
							<!-- <span>Send me email notifications to</span> -->
							<div>Set up an email address to recieve notifications when contacted by a match</div>
							<input floating-label type="email" ng-model="profile.userSettings.email" placeholder="Email notifications address"/>
						</div>
					</li>
					<li class="user-info-option" ng-if="(profile.user.type | typeToString) === 'Offerer'">
						<a ng-click="profile.showRoomOffering()">
							<span class="icon icon-arrow" ng-include="'assets/icons/arrow-down.svg'"></span>
							My Room Offering
						</a>
						<div class="user-details" ng-if="profile.openSettings.roomPost && profile.apartmentDetails && profile.roomDetails">
							<div class="form-section form-room">
								<a class="update-link" ng-click="profile.updateRoomOffering()">Update</a>
								<h3>My Room Details</h3>
								<room-details-form ng-model="profile.roomDetails"></room-details-form>
							</div>
							<div class="form-section form-apartment">
								<a class="update-link" ng-click="profile.updateRoomOffering()">Update</a>
								<h3>My Apartment Details</h3>
								<apartment-details-form ng-model="profile.apartmentDetails"></apartment-details-form>
							</div>
						</div>
					</li>
				</ul>
			</div>
			<div class="user-friends">
				<span>Your friends on Roomatched:</span>
				<ul class="user-friends-list">
					<li class="user-friend" ng-repeat="friend in profile.userFriends | limitTo: 4">
						<img style="width: 50px; height: 50px; border-radius: 50%" ng-src="{{ friend.picture }}" title="{{ friend.name }}"></img>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>
</div>
